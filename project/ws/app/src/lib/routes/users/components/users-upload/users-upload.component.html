<div class="flex flex-wrap">
  <div class="flex flex-row fle-wrap w-full">

  </div>
  <div class="flex flex-row fle-wrap w-full">
    <mat-card class="my-5 flex-custom ws-mat-accent-border mat-card w-full">
      <div class="flex flex-row">
        <form [formGroup]="formGroup" #form class="flex">
          <button *ngIf="!fileName" type="button" (click)="fileInput.click()" (dblclick)="$event.preventDefault();"
            class="download-btn mat-accent-border mat-button mat-button-base">Choose File</button>
          <label class="file-name mr-5" *ngIf="fileName">Selected file : <b>{{fileName}}</b></label>
          <input hidden type="file" #fileInput class="" (click)="fileClick($event)" (change)="onFileChange($event)"
            name="file" placeholder="Choose file" (dblclick)="$event.preventDefault();"
            accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel, .xlsx, .xls" />
          <!-- <input type="submit" [disabled]="formGroup.invalid" value="upload" /> -->
          <mat-error *ngIf="showFileError">Only .xlsx or .csv files are accepted</mat-error>

          <div class="text-left mr-5">
            <div *ngIf="displayLoader | async" class="pr-4 flex items-center justify-center">
              <mat-spinner [diameter]="30"></mat-spinner>
            </div>
            <button mat-button class="upload-btn mat-button mat-button-base mr-5" type="submit" i18n
              [disabled]="formGroup.invalid || (displayLoader | async)" (click)="onSubmit(form)"
              (dblclick)="$event.preventDefault();" *ngIf="fileName">
              <ng-container i18n>Upload</ng-container>
            </button>
          </div>
          <div class="text-left">
            <button mat-button class="download-btn mat-accent-border mat-button mat-button-base" type="button" i18n
              (click)="cancelSelected()" (dblclick)="$event.preventDefault();" *ngIf="fileName">
              <ng-container i18n>Cancel</ng-container>
            </button>
          </div>

        </form>
        <div class="flex-1 inline-flex items-end justify-end">
          <!-- <span class="mat-body-1 mr-5 pl-1">Download the sample file</span> -->
          <button class="download-btn mat-accent-border mat-button mat-button-base" i18n (click)="downloadFile()">
            <ng-container i18n>Download sample file</ng-container>
          </button>
        </div>
      </div>
      <div class="flex flex-row">
        <div class="mt-2 ws-mat-black60-text">
          Need help? contact us <a class="mat-accent" target="_blank" href="{{contactUsUrl}}">here</a>
        </div>
      </div>
    </mat-card>
  </div>

  <div class="flex flex-row fle-wrap w-full">
    <div class="flex-1 inline-flex items-end justify-flex-start">
      <h2 class="contacts-head">File uploads</h2>
    </div>
    <div class="flex-1 inline-flex items-end justify-end">
      <div class="mb-4 ws-mat-black60-text">
        Need help? contact us <a class="mat-accent" target="_blank" href="{{contactUsUrl}}">here</a>
      </div>
    </div>
  </div>

  <div class="w-full relative">
    <!-- <h2 class="w-full contacts-head">File uploads</h2> -->

    <div class="example-loading w-full text-center" *ngIf="fetching">
      <mat-spinner></mat-spinner>
    </div>
    <ng-container *ngIf="!fetching && tableList && tableList.length > 0">
      <ws-widget-org-user-table [tableData]='tabledata' [data]='tableList' (eOnRowClick)="downloadFullFile($event)">
      </ws-widget-org-user-table>
    </ng-container>
    <ng-container *ngIf="(!bulkUploadData || !bulkUploadData.length) && !fetching">
      <h4 class="w-full
       ws-mat-black60-text text-center">No data to be displayed!</h4>
    </ng-container>
  </div>
</div>

<input type="hidden" i18-value i18-aria-value aria-value="File upload successful..!" [value]="uplaodSuccessMsg"
  #toastSuccess />
<input type="hidden" i18-value i18-aria-value aria-value="Unable to process file upload..!"
  value="Unable to process file upload..!" #toastError />