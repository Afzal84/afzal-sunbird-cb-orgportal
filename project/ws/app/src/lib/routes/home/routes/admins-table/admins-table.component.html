<ng-container *ngIf="dataSource && dataSource?.data?.length > 0; else noDataFount">
  <div>
    <mat-table #table matSort [matSortActive]="tableHeaders!.sortColumn" [matSortDirection]="tableHeaders!.sortState"
      [dataSource]="dataSource" class="example-table table1 responsiveTable">
      <ng-container matColumnDef="{{col.key}}" *ngFor="let col of tableHeaders!.columns, let i = index">
        <mat-header-cell *matHeaderCellDef mat-sort-header class=".h-400-r-14-l color-60"
          [ngClass]="{ SNoCell: col.type === 'position' }"> {{col.displayName}}
        </mat-header-cell>
        <mat-cell *matCellDef="let element; let i = index" [ngSwitch]="col.type"
          [ngClass]="{ SNoCell: col.type === 'position' }">
          <ng-container *ngSwitchCase="'text'">
            <span class="h-400-r-14-l color-87 textclass">
              <div>{{element[col.key]}}</div>
            </span>
          </ng-container>
          <ng-container *ngSwitchCase="'position'">
            <span class="h-400-r-14-l color-87 textclass">
              <div>{{i + 1}}</div>
            </span>
          </ng-container>
          <ng-container *ngSwitchCase="'datePicker'">
            <mat-form-field color="accent" appearance="outline" class="expireDateForm">
              <input matInput readonly [matDatepicker]="expireDate" placeholder="Enter date"
                [(ngModel)]="element[col.key]" [min]="minDate" [max]="maxDate" (dateChange)="enableAccessBtn(element)">
              <mat-datepicker-toggle matSuffix [for]="expireDate">
              </mat-datepicker-toggle>
              <mat-datepicker #expireDate></mat-datepicker>
            </mat-form-field>
          </ng-container>
          <ng-container *ngSwitchCase="'action'">
            <ng-container *ngIf="element[col.key] === true; else giveAccess">
              <div class="flex successText">
                <mat-icon class="mr-2">check_circle</mat-icon>
                <span>Access Given</span>
              </div>
            </ng-container>
            <ng-template #giveAccess>
              <button mat-button [ngClass]="element.enableAccessBtn ? 'enableAccessBtn' : 'disableAccessBtn'"
                (click)="emitSelectedDate(element)">
                Give Access
              </button>
            </ng-template>
          </ng-container>
        </mat-cell>
      </ng-container>
      <mat-header-row *matHeaderRowDef="getFinalColumns()"></mat-header-row>
      <mat-row *matRowDef="let row; columns: getFinalColumns();" (click)="selection && selection.toggle(row);">
      </mat-row>
    </mat-table>
  </div>
</ng-container>

<ng-template #noDataFount>
  <mat-card>
    <div class="font-medium ">
      No data found
    </div>
  </mat-card>
</ng-template>